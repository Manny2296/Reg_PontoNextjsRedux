{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _Object$values from \"@babel/runtime-corejs2/core-js/object/values\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nvar _jsxFileName = \"C:\\\\Users\\\\Riano\\\\Repo\\\\RegistradorPonto\\\\components\\\\TableUsers.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Component } from 'react';\nimport MaterialTable from 'material-table';\nimport { connect } from 'react-redux';\nimport { forwardRef } from 'react';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nimport { _createUser } from \"../actions/userAction\";\nimport { _updateUser } from \"../actions/userAction\";\nimport { _deleteUser } from \"../actions/userAction\";\nimport \"./Table.scss\";\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport Paper from '@material-ui/core/Paper';\nconst columns = [{\n  title: \"Nome Empleado\",\n  field: \"name\"\n}, {\n  title: \"Numero Documento\",\n  field: \"ndoc\"\n}, {\n  title: \"Hora ingreso\",\n  field: \"horaingreso\"\n}, {\n  title: \"Hora saida\",\n  field: \"horasalida\"\n}];\nconst tableIcons = {\n  Add: forwardRef((props, ref) => __jsx(AddBox, _extends({}, props, {\n    ref: ref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }))),\n  Check: forwardRef((props, ref) => __jsx(Check, _extends({}, props, {\n    ref: ref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }))),\n  Clear: forwardRef((props, ref) => __jsx(Clear, _extends({}, props, {\n    ref: ref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }))),\n  Delete: forwardRef((props, ref) => __jsx(DeleteOutline, _extends({}, props, {\n    ref: ref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }))),\n  DetailPanel: forwardRef((props, ref) => __jsx(ChevronRight, _extends({}, props, {\n    ref: ref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }))),\n  Edit: forwardRef((props, ref) => __jsx(Edit, _extends({}, props, {\n    ref: ref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }))),\n  Export: forwardRef((props, ref) => __jsx(SaveAlt, _extends({}, props, {\n    ref: ref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }))),\n  Filter: forwardRef((props, ref) => __jsx(FilterList, _extends({}, props, {\n    ref: ref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }))),\n  FirstPage: forwardRef((props, ref) => __jsx(FirstPage, _extends({}, props, {\n    ref: ref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }))),\n  LastPage: forwardRef((props, ref) => __jsx(LastPage, _extends({}, props, {\n    ref: ref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }))),\n  NextPage: forwardRef((props, ref) => __jsx(ChevronRight, _extends({}, props, {\n    ref: ref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }))),\n  PreviousPage: forwardRef((props, ref) => __jsx(ChevronLeft, _extends({}, props, {\n    ref: ref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }))),\n  ResetSearch: forwardRef((props, ref) => __jsx(Clear, _extends({}, props, {\n    ref: ref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }))),\n  Search: forwardRef((props, ref) => __jsx(Search, _extends({}, props, {\n    ref: ref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }))),\n  SortArrow: forwardRef((props, ref) => __jsx(ArrowDownward, _extends({}, props, {\n    ref: ref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }))),\n  ThirdStateCheck: forwardRef((props, ref) => __jsx(Remove, _extends({}, props, {\n    ref: ref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }))),\n  ViewColumn: forwardRef((props, ref) => __jsx(ViewColumn, _extends({}, props, {\n    ref: ref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  })))\n};\n\nclass TableUsers extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: this.props.data //isLoading: false // Par défaut à false car il n'y a pas de chargement tant qu'on ne lance pas de recherche        \n\n    };\n    console.log(\"Prps table users\" + this.props.data); // this._loadUsuarios() \n  }\n\n  async _loadUsuarios() {\n    const res = await fetch('http://localhost:8080/users/');\n    const data = await res.json(); //console.log(`Show data fetched. Count: ${data.length}`  );\n\n    this.setState({\n      users: [...this.state.users, ...data] // une autre sintaxys  films: this.state.films.concat(data.results)\n      // films: data.results,  // une autre sintaxys  films: this.state.films.concat(data.results)\n\n    }); //  console.log(\"Rowsusu\"+this.state.numRows)\n  }\n\n  render() {\n    console.log(this.props);\n    return __jsx(Paper, {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, __jsx(MaterialTable, {\n      icons: tableIcons,\n      title: \"Lista de Usuarios\",\n      columns: columns,\n      data: this.state.users,\n      actions: [{\n        icon: AccountCircleIcon,\n        tooltip: 'User Profile',\n        onClick: (event, rowData) => //alert(\"You saved \" + rowData.name)window.location.href\n        window.location.href = `/user/${rowData.id_Document}`\n      }],\n      editable: {\n        onRowAdd: newData => new _Promise(resolve => {\n          setTimeout(() => {\n            resolve();\n\n            _createUser(newData);\n\n            this.setState({\n              users: [...this.state.users, newData]\n            });\n          }, 600);\n        }),\n        onRowUpdate: (newData, oldData) => new _Promise(resolve => {\n          setTimeout(() => {\n            resolve();\n\n            if (oldData) {\n              let toPut = _Object$values(newData);\n\n              var arraytoPut = [{\n                idusuario: toPut[0],\n                name: toPut[1],\n                surname: toPut[2],\n                id_Document: toPut[3],\n                email: toPut[4],\n                telephone: _parseInt(toPut[6])\n              }]; //   console.log(\"toPut> \" + JSON.stringify(toPut))\n\n              _updateUser(arraytoPut);\n\n              this.setState(prevState => {\n                const users = [...prevState.users];\n                users[users.indexOf(oldData)] = newData;\n                return _objectSpread({}, prevState, {\n                  users\n                });\n              });\n            }\n          }, 600);\n        }),\n        onRowDelete: oldData => new _Promise(resolve => {\n          setTimeout(() => {\n            resolve();\n            console.log(_JSON$stringify(oldData));\n\n            _deleteUser(oldData);\n\n            this.setState(() => {\n              return {\n                users: this.state.users.filter(item => item.idusuario !== oldData.idusuario)\n              };\n            });\n          }, 600);\n        })\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  console.log(\"Props \" + _JSON$stringify(state));\n  store.dispatch({\n    type: 'ADD_REG_PONTO',\n    payload: null\n  });\n};\n\nexport default connect(state => state)(TableUsers);","map":{"version":3,"sources":["C:/Users/Riano/Repo/RegistradorPonto/components/TableUsers.js"],"names":["Component","MaterialTable","connect","forwardRef","AddBox","ArrowDownward","Check","ChevronLeft","ChevronRight","Clear","DeleteOutline","Edit","FilterList","FirstPage","LastPage","Remove","SaveAlt","Search","ViewColumn","_createUser","_updateUser","_deleteUser","AccountCircleIcon","Paper","columns","title","field","tableIcons","Add","props","ref","Delete","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","TableUsers","constructor","state","users","data","console","log","_loadUsuarios","res","fetch","json","setState","render","icon","tooltip","onClick","event","rowData","window","location","href","id_Document","onRowAdd","newData","resolve","setTimeout","onRowUpdate","oldData","toPut","arraytoPut","idusuario","name","surname","email","telephone","prevState","indexOf","onRowDelete","filter","item","mapStateToProps","store","dispatch","type","payload"],"mappings":"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","sourcesContent":["import  { Component } from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport { connect } from 'react-redux'\r\n\r\n\r\nimport { forwardRef } from 'react';\r\nimport AddBox from '@material-ui/icons/AddBox';\r\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\r\nimport Check from '@material-ui/icons/Check';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRight from '@material-ui/icons/ChevronRight';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport FilterList from '@material-ui/icons/FilterList';\r\nimport FirstPage from '@material-ui/icons/FirstPage';\r\nimport LastPage from '@material-ui/icons/LastPage';\r\nimport Remove from '@material-ui/icons/Remove';\r\nimport SaveAlt from '@material-ui/icons/SaveAlt';\r\nimport Search from '@material-ui/icons/Search';\r\nimport ViewColumn from '@material-ui/icons/ViewColumn';\r\nimport { _createUser } from \"../actions/userAction\";\r\nimport { _updateUser } from \"../actions/userAction\";\r\nimport { _deleteUser } from \"../actions/userAction\";\r\nimport \"./Table.scss\"\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\n\r\n\r\n\r\nconst columns =  [{title:\"Nome Empleado\", field:\"name\"},\r\n{title:\"Numero Documento\", field:\"ndoc\"},\r\n{title:\"Hora ingreso\", field:\"horaingreso\"},\r\n{title:\"Hora saida\", field:\"horasalida\"}\r\n\r\n]\r\nconst tableIcons = {\r\n  Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n  Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n  Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n  Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n  DetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n  Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n  Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n  Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n  FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n  LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n  NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n  PreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\r\n  ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n  Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n  SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\r\n  ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\r\n  ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n  \r\n};\r\n\r\nclass TableUsers extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      users: this.props.data,\r\n      \r\n      //isLoading: false // Par défaut à false car il n'y a pas de chargement tant qu'on ne lance pas de recherche        \r\n     }\r\n     console.log(\"Prps table users\" + this.props.data)\r\n    // this._loadUsuarios() \r\n  }\r\n  async _loadUsuarios(){\r\n    const res = await fetch('http://localhost:8080/users/');\r\n    const data = await res.json();\r\n    \r\n    //console.log(`Show data fetched. Count: ${data.length}`  );\r\n    \r\n \r\n    this.setState(\r\n      { \r\n        users: [...this.state.users, ...data],  // une autre sintaxys  films: this.state.films.concat(data.results)\r\n       // films: data.results,  // une autre sintaxys  films: this.state.films.concat(data.results)\r\n     \r\n       \r\n      }\r\n    )\r\n  //  console.log(\"Rowsusu\"+this.state.numRows)\r\n  }\r\n \r\n  render() {\r\n  console.log(this.props)\r\n   \r\n    return (\r\n \r\n   <Paper className='container'>\r\n    <MaterialTable\r\n       \r\n       icons={tableIcons}\r\n      \r\n       title=\"Lista de Usuarios\"\r\n       columns={columns}\r\n       data={this.state.users}\r\n       actions={[\r\n        {\r\n          icon: AccountCircleIcon,\r\n          tooltip: 'User Profile',\r\n          onClick: (event, rowData) => //alert(\"You saved \" + rowData.name)window.location.href\r\n          window.location.href = `/user/${rowData.id_Document}`\r\n           \r\n        }\r\n       ]}\r\n    \r\n      editable={{\r\n        onRowAdd: newData =>\r\n          new Promise(resolve => {\r\n            setTimeout(() => {\r\n              resolve();\r\n              _createUser(newData)\r\n             \r\n              this.setState(\r\n                { \r\n                  users: [...this.state.users,newData]\r\n                }\r\n              )              \r\n            }, 600);\r\n          }),\r\n        onRowUpdate: (newData, oldData) =>\r\n          new Promise(resolve => {\r\n            setTimeout(() => {\r\n              resolve();\r\n              if (oldData) {                            \r\n                let toPut = Object.values(newData);\r\n                var arraytoPut = [{idusuario:toPut[0],name:toPut[1],surname:toPut[2],id_Document:toPut[3],email:toPut[4],telephone:parseInt(toPut[6])}]\r\n               //   console.log(\"toPut> \" + JSON.stringify(toPut))\r\n                  _updateUser(arraytoPut);              \r\n                  this.setState(prevState => {\r\n                    const users = [...prevState.users];\r\n                    users[users.indexOf(oldData)] = newData;\r\n                    return { ...prevState, users };\r\n                  });\r\n                         \r\n                                                         \r\n              }\r\n            }, 600);\r\n          }),\r\n        onRowDelete: oldData =>\r\n          new Promise(resolve => {\r\n            setTimeout(() => {\r\n              resolve();\r\n              console.log(JSON.stringify(oldData))\r\n              _deleteUser(oldData)\r\n              this.setState(() => {\r\n      \r\n                return { users:this.state.users.filter(item => item.idusuario !== oldData.idusuario) };\r\n              });\r\n            }, 600);\r\n          }),\r\n     \r\n      }}\r\n    />\r\n    </Paper>\r\n\r\n\r\n    \r\n    \r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  console.log(\"Props \" + JSON.stringify(state))\r\n  store.dispatch({type: 'ADD_REG_PONTO', payload:null})\r\n \r\n}\r\nexport default  connect(\r\n  (state) => state)(TableUsers);\r\n"]},"metadata":{},"sourceType":"module"}