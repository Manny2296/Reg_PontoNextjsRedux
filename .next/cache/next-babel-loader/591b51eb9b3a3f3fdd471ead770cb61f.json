{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nvar _jsxFileName = \"C:\\\\Users\\\\Riano\\\\Repo\\\\RegistradorPonto\\\\pages\\\\index.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Link from \"next/link\";\nimport Layout from \"../components/Layout\";\nimport { forwardRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux';\nimport { Button, Box, TextField } from \"@material-ui/core\";\nimport React, { Component } from 'react';\nimport \"../components/index.scss\";\nimport \"../components/Table.scss\";\nimport MaterialTable from 'material-table';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport { AlertDialog } from './alertDialog';\nvar tableIcons = {\n  Add: forwardRef(function (props, ref) {\n    return __jsx(AddBox, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }));\n  }),\n  Check: forwardRef(function (props, ref) {\n    return __jsx(Check, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }));\n  }),\n  Clear: forwardRef(function (props, ref) {\n    return __jsx(Clear, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }));\n  }),\n  Delete: forwardRef(function (props, ref) {\n    return __jsx(DeleteOutline, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }));\n  }),\n  DetailPanel: forwardRef(function (props, ref) {\n    return __jsx(ChevronRight, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }));\n  }),\n  Edit: forwardRef(function (props, ref) {\n    return __jsx(Edit, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }));\n  }),\n  Export: forwardRef(function (props, ref) {\n    return __jsx(SaveAlt, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }));\n  }),\n  Filter: forwardRef(function (props, ref) {\n    return __jsx(FilterList, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }));\n  }),\n  FirstPage: forwardRef(function (props, ref) {\n    return __jsx(FirstPage, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }));\n  }),\n  LastPage: forwardRef(function (props, ref) {\n    return __jsx(LastPage, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }));\n  }),\n  NextPage: forwardRef(function (props, ref) {\n    return __jsx(ChevronRight, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }));\n  }),\n  PreviousPage: forwardRef(function (props, ref) {\n    return __jsx(ChevronLeft, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }));\n  }),\n  ResetSearch: forwardRef(function (props, ref) {\n    return __jsx(Clear, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }));\n  }),\n  Search: forwardRef(function (props, ref) {\n    return __jsx(Search, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }));\n  }),\n  SortArrow: forwardRef(function (props, ref) {\n    return __jsx(ArrowDownward, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }));\n  }),\n  ThirdStateCheck: forwardRef(function (props, ref) {\n    return __jsx(Remove, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }));\n  }),\n  ViewColumn: forwardRef(function (props, ref) {\n    return __jsx(ViewColumn, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }));\n  })\n};\nvar stylebutton = {\n  background: 'linear-gradient(45deg, rgb(254, 107, 139) 30%, rgb(255, 142, 83) 90%)',\n  borderRadius: 3,\n  border: 0,\n  color: 'white',\n  width: '100%',\n  height: 38,\n  padding: '0 10px',\n  boxShadow: '0 2px 5px 2px rgba(255, 105, 135, .3)' // marginLeft: 20,\n  // marginTop: 5,\n  // marginRight: 20\n\n};\n\nvar Index =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Index, _Component);\n\n  _createClass(Index, null, [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(_ref) {\n      var store = _ref.store,\n          isServer = _ref.isServer,\n          pathname = _ref.pathname,\n          query = _ref.query;\n      store.dispatch({\n        type: 'ADD_REG_PONTO',\n        payload: null\n      }); // component will be able to read from store's state when rendered\n\n      return {\n        custom: 'custom'\n      }; // you can pass some custom props to component from here\n    }\n  }]);\n\n  function Index(props) {\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Index).call(this, props));\n    _this.state = {\n      columns: [{\n        title: \"Nome Empleado\",\n        field: \"name\"\n      }, {\n        title: \"Numero Documento\",\n        field: \"ndoc\"\n      }, {\n        title: \"Hora ingreso\",\n        field: \"horaingreso\"\n      }, {\n        title: \"Hora saida\",\n        field: \"horasalida\"\n      }],\n      data: _this.props.data,\n      ndocUser: null,\n      useradd: null\n    };\n    _this._handleNdocUserChange = _this._handleNdocUserChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"_handleNdocUserChange\",\n    value: function _handleNdocUserChange(event) {\n      console.log(\"Ndoc a batir ponto : \" + event.target.value);\n      this.setState({\n        ndocUser: event.target.value\n      });\n    }\n  }, {\n    key: \"_handleSaveUser\",\n    value: function _handleSaveUser() {\n      var dispatch = this.props.dispatch;\n\n      if (this.state.ndocUser != null) {\n        var numerodocumento = this.state.ndocUser;\n        console.log(\"------> \" + numerodocumento);\n        var usuario_a_batir = this.state.data.filter(function (user) {\n          return user.ndoc == numerodocumento;\n        });\n        console.log(\"El ultimo en batir ponto\" + _JSON$stringify(this.state.data[this.state.data.length - 1]));\n\n        if (usuario_a_batir.length > 0) {\n          // window.alert(\"Usuario encontrado\");\n\n          /*this.setState(\r\n            {useradd:[{\"name\":usuario_a_batir[0].name, \"ndoc\":usuario_a_batir[0].ndoc ,\"horaingreso\": \"00:00:00\", \"horasalida\":\"00:01:00\"}]}\r\n          )*/\n          var date = new Date().toLocaleString();\n          console.log(date + \"------------------<<\");\n          var a_inserer = [{\n            \"name\": usuario_a_batir[0].name,\n            \"ndoc\": usuario_a_batir[0].ndoc,\n            \"horaingreso\": date,\n            \"horasalida\": \"--------\"\n          }];\n          var action = {\n            type: \"ADD_REG_PONTO\",\n            payload: a_inserer[0]\n          };\n          this.props.dispatch(action);\n          console.log(usuario_a_batir[0].name + \"---\" + usuario_a_batir[0].ndoc);\n          console.log(\"Ya execute\");\n          this.setState(function (prevState) {\n            var data = _toConsumableArray(prevState.data);\n\n            data.push(a_inserer[0]);\n            return _objectSpread({}, prevState, {\n              data: data\n            });\n          });\n        } else {\n          window.alert(\"Usuario no encontrado,porfavor digite um Numero de Documento valido \");\n        }\n      } else {\n        window.alert(\"Usuario no encontrado,porfavor digite um Numero de Documento valido \");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      //console.log(this.props)\n      //console.log(\"render element with props \" + JSON.stringify(this.props.data));\n      return __jsx(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, __jsx(\"h3\", {\n        className: \"firstlbl\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \" Bienvenido a MF.RegistroPonto \"), __jsx(Box, {\n        className: \"containerDataBox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, __jsx(TextField, {\n        label: \"Numero de Documento\",\n        onChange: this._handleNdocUserChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), __jsx(Button, {\n        variant: \"contained\",\n        style: stylebutton,\n        onClick: this._handleSaveUser.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Batir Ponto \")), __jsx(MaterialTable, {\n        icons: tableIcons,\n        title: \"Pontos batidos hoje\",\n        columns: this.state.columns,\n        data: this.state.data,\n        actions: [{\n          icon: AccountCircleIcon,\n          tooltip: 'User Profile',\n          onClick: function onClick(event, rowData) {\n            return (//alert(\"You saved \" + rowData.name)window.location.href\n              window.location.href = \"/user/\".concat(rowData.ndoc)\n            );\n          }\n        }],\n        editable: {\n          /* onRowAdd: newData =>\r\n             new Promise(resolve => {\r\n               setTimeout(() => {\r\n                 resolve();\r\n                 this.setState(prevState => {\r\n                   const data = [...prevState.data];\r\n                   data.push(newData);\r\n                   return { ...prevState, data };\r\n                 });\r\n               }, 600);\r\n             }),\r\n           onRowUpdate: (newData, oldData) =>\r\n             new Promise(resolve => {\r\n               setTimeout(() => {\r\n                 resolve();\r\n                 if (oldData) {\r\n                   this.setState(prevState => {\r\n                     const data = [...prevState.data];\r\n                     data[data.indexOf(oldData)] = newData;\r\n                     return { ...prevState, data };\r\n                   });\r\n                 }\r\n               }, 600);\r\n             }),*/\n          onRowDelete: function onRowDelete(oldData) {\n            return new _Promise(function (resolve) {\n              setTimeout(function () {\n                resolve();\n\n                _this2.setState(function (prevState) {\n                  var data = _toConsumableArray(prevState.data);\n\n                  data.splice(data.indexOf(oldData), 1);\n                  return _objectSpread({}, prevState, {\n                    data: data\n                  });\n                });\n              }, 600);\n            });\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      })), __jsx(\"a\", {\n        href: \"http://eco2.com.co\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Index;\n}(Component);\n\nexport default connect(function (state) {\n  return state;\n})(Index);","map":{"version":3,"sources":["C:/Users/Riano/Repo/RegistradorPonto/pages/index.js"],"names":["Link","Layout","forwardRef","makeStyles","connect","Button","Box","TextField","React","Component","MaterialTable","AddBox","ArrowDownward","Check","ChevronLeft","ChevronRight","Clear","DeleteOutline","Edit","FilterList","FirstPage","LastPage","Remove","SaveAlt","Search","ViewColumn","AccountCircleIcon","AlertDialog","tableIcons","Add","props","ref","Delete","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","stylebutton","background","borderRadius","border","color","width","height","padding","boxShadow","Index","store","isServer","pathname","query","dispatch","type","payload","custom","state","columns","title","field","data","ndocUser","useradd","_handleNdocUserChange","bind","event","console","log","target","value","setState","numerodocumento","usuario_a_batir","filter","user","ndoc","length","date","Date","toLocaleString","a_inserer","name","action","prevState","push","window","alert","_handleSaveUser","icon","tooltip","onClick","rowData","location","href","onRowDelete","oldData","resolve","setTimeout","splice","indexOf"],"mappings":"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","sourcesContent":["import Link from \"next/link\";\r\n\r\nimport Layout from \"../components/Layout\";\r\nimport { forwardRef } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux'\r\n\r\nimport { Button, Box, TextField} from \"@material-ui/core\";\r\nimport React, { Component } from 'react';\r\n\r\nimport \"../components/index.scss\"\r\nimport \"../components/Table.scss\"\r\nimport MaterialTable from 'material-table';\r\nimport AddBox from '@material-ui/icons/AddBox';\r\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\r\nimport Check from '@material-ui/icons/Check';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRight from '@material-ui/icons/ChevronRight';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport FilterList from '@material-ui/icons/FilterList';\r\nimport FirstPage from '@material-ui/icons/FirstPage';\r\nimport LastPage from '@material-ui/icons/LastPage';\r\nimport Remove from '@material-ui/icons/Remove';\r\nimport SaveAlt from '@material-ui/icons/SaveAlt';\r\nimport Search from '@material-ui/icons/Search';\r\nimport ViewColumn from '@material-ui/icons/ViewColumn';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport {AlertDialog} from './alertDialog'\r\nconst tableIcons = {\r\n  Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n  Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n  Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n  Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n  DetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n  Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n  Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n  Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n  FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n  LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n  NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n  PreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\r\n  ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n  Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n  SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\r\n  ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\r\n  ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n  \r\n};\r\nconst stylebutton = {\r\n  background: 'linear-gradient(45deg, rgb(254, 107, 139) 30%, rgb(255, 142, 83) 90%)',\r\n  borderRadius: 3,\r\n  border: 0,\r\n  color: 'white',\r\n  width : '100%',\r\n  height: 38,\r\n  padding: '0 10px',\r\n  boxShadow: '0 2px 5px 2px rgba(255, 105, 135, .3)',\r\n // marginLeft: 20,\r\n // marginTop: 5,\r\n // marginRight: 20\r\n};\r\n\r\nclass Index extends Component {\r\n  static getInitialProps({store, isServer, pathname, query}) {\r\n    store.dispatch({type: 'ADD_REG_PONTO', payload:null\r\n    }); // component will be able to read from store's state when rendered\r\n    return {custom: 'custom'}; // you can pass some custom props to component from here\r\n}\r\n    constructor(props){\r\n    \r\n      super(props)\r\n\r\n       this.state = { \r\n         columns:[{title:\"Nome Empleado\", field:\"name\"},\r\n             {title:\"Numero Documento\", field:\"ndoc\"},\r\n             {title:\"Hora ingreso\", field:\"horaingreso\"},\r\n             {title:\"Hora saida\", field:\"horasalida\"}\r\n\r\n        ],\r\n        \r\n      data: this.props.data, \r\n      ndocUser: null,\r\n      useradd : null\r\n  }\r\n  this._handleNdocUserChange = this._handleNdocUserChange.bind(this);\r\n    }\r\n    \r\n   \r\n    _handleNdocUserChange(event){\r\n      console.log(\"Ndoc a batir ponto : \" + event.target.value)\r\n    this.setState({ndocUser : event.target.value})\r\n    }\r\n    _handleSaveUser(){\r\n      const {dispatch} = this.props;\r\n      if(this.state.ndocUser != null){\r\n        let numerodocumento = this.state.ndocUser\r\n        console.log(\"------> \" +numerodocumento);\r\n\r\n        let usuario_a_batir = this.state.data.filter(function(user){\r\n          return user.ndoc == numerodocumento\r\n        })\r\n        console.log(\"El ultimo en batir ponto\" + JSON.stringify(this.state.data[this.state.data.length-1]))\r\n      if(usuario_a_batir.length > 0){\r\n      // window.alert(\"Usuario encontrado\");\r\n        /*this.setState(\r\n          {useradd:[{\"name\":usuario_a_batir[0].name, \"ndoc\":usuario_a_batir[0].ndoc ,\"horaingreso\": \"00:00:00\", \"horasalida\":\"00:01:00\"}]}\r\n        )*/\r\n       \r\n        var date = new Date().toLocaleString();\r\n        console.log(date + \"------------------<<\")\r\n        let a_inserer = [{\"name\": usuario_a_batir[0].name, \"ndoc\": usuario_a_batir[0].ndoc,\"horaingreso\":date, \"horasalida\":\"--------\"}]\r\n        const action = { type: \"ADD_REG_PONTO\", payload: a_inserer[0]}\r\n        this.props.dispatch(action)\r\n        console.log(usuario_a_batir[0].name + \"---\" + usuario_a_batir[0].ndoc)\r\n      console.log(\"Ya execute\")\r\n        this.setState(prevState => {\r\n          const data = [...prevState.data];\r\n          data.push(a_inserer[0]);\r\n          return { ...prevState, data };\r\n        });\r\n      }\r\n      else{\r\n        window.alert(\"Usuario no encontrado,porfavor digite um Numero de Documento valido \");\r\n\r\n      }\r\n      }\r\n      else{\r\n       window.alert(\"Usuario no encontrado,porfavor digite um Numero de Documento valido \");\r\n      }\r\n \r\n    }\r\n    \r\n  render() {\r\n    //console.log(this.props)\r\n    //console.log(\"render element with props \" + JSON.stringify(this.props.data));\r\n    return (\r\n      <Layout>\r\n    \r\n    <div >\r\n    \r\n      <h3 className=\"firstlbl\"> Bienvenido a MF.RegistroPonto </h3>\r\n     \r\n\r\n      <Box className='containerDataBox' >\r\n          \r\n         <TextField  label=\"Numero de Documento\" onChange={this._handleNdocUserChange} />\r\n         <br/>\r\n         <Button  variant=\"contained\" style={stylebutton}  onClick={this._handleSaveUser.bind(this)} >Batir Ponto </Button>\r\n        \r\n       </Box>\r\n       <MaterialTable\r\n       icons={tableIcons}\r\n      title=\"Pontos batidos hoje\"\r\n      columns={this.state.columns}\r\n      data={this.state.data}\r\n      actions={[\r\n        {\r\n          icon: AccountCircleIcon,\r\n          tooltip: 'User Profile',\r\n          onClick: (event, rowData) => //alert(\"You saved \" + rowData.name)window.location.href\r\n          window.location.href = `/user/${rowData.ndoc}`\r\n           \r\n        }\r\n       ]}\r\n      editable={{\r\n       /* onRowAdd: newData =>\r\n          new Promise(resolve => {\r\n            setTimeout(() => {\r\n              resolve();\r\n              this.setState(prevState => {\r\n                const data = [...prevState.data];\r\n                data.push(newData);\r\n                return { ...prevState, data };\r\n              });\r\n            }, 600);\r\n          }),\r\n        onRowUpdate: (newData, oldData) =>\r\n          new Promise(resolve => {\r\n            setTimeout(() => {\r\n              resolve();\r\n              if (oldData) {\r\n                this.setState(prevState => {\r\n                  const data = [...prevState.data];\r\n                  data[data.indexOf(oldData)] = newData;\r\n                  return { ...prevState, data };\r\n                });\r\n              }\r\n            }, 600);\r\n          }),*/\r\n        onRowDelete: oldData =>\r\n          new Promise(resolve => {\r\n            setTimeout(() => {\r\n              resolve();\r\n              this.setState(prevState => {\r\n                const data = [...prevState.data];\r\n                data.splice(data.indexOf(oldData), 1);\r\n                return { ...prevState, data };\r\n              });\r\n            }, 600);\r\n          }),\r\n      }}\r\n    />  \r\n      \r\n      </div>\r\n   \r\n    <a href=\"http://eco2.com.co\">\r\n    {/*<img className=\"imgstyle\"  src={require('../components/image/flower-2.png')}/>*/}\r\n    </a>\r\n    \r\n  </Layout>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default connect(\r\n  (state) => state,\r\n \r\n)(Index);"]},"metadata":{},"sourceType":"module"}